import{x as I,l as S,r as d,n as $,G as ne,U as R,j as e,B as A,H as re,a as ie,I as q,i as oe,u as ce,b as le,P as N,J as de,K as ue,d as C,e as me,k as P}from"./index-CNrcfRrM.js";import{I as w}from"./input-DYw6_Rqf.js";import{C as F,a as k,b as D,d as M,c as V,e as G,B}from"./card-7e8gTXjj.js";import{E as v,c as H,a as y,b as pe}from"./index.esm-_1O4sASF.js";const ge=()=>{let[s]=I();const t=s.get("createNew"),n=S(),[a,r]=d.useState({}),[u,i]=d.useState({email:"",password:""}),c=x=>{const{name:g,value:b}=x.target;i(j=>({...j,[g]:b}))},{data:p,loading:m,error:o,fn:l}=$(ne,u),{fetchUser:f}=R();d.useEffect(()=>{o===null&&p&&(f(),n(`/dashboard?${t?`createNew=${t}`:""}`))},[p,o]);const h=async()=>{var x;r([]);try{await H().shape({email:y().email("Invalid email").required("Email is required"),password:y().min(6,"Password must be at least 6 characters").required("Password is required")}).validate(u,{abortEarly:!1}),await l()}catch(g){const b={};(x=g==null?void 0:g.inner)==null||x.forEach(j=>{b[j.path]=j.message}),r(b)}};return e.jsxs(F,{children:[e.jsxs(k,{children:[e.jsx(D,{children:"Login"}),e.jsx(M,{children:"to your account if you already have one"}),o&&e.jsx(v,{message:o.message})]}),e.jsxs(V,{className:"space-y-2",children:[e.jsx("div",{className:"space-y-1",children:e.jsx(w,{name:"email",type:"email",placeholder:"Enter Email",onChange:c})}),a.email&&e.jsx(v,{message:a.email}),e.jsx("div",{className:"space-y-1",children:e.jsx(w,{name:"password",type:"password",placeholder:"Enter Password",onChange:c})}),a.password&&e.jsx(v,{message:a.password})]}),e.jsx(G,{children:e.jsx(A,{onClick:h,children:m?e.jsx(B,{size:10,color:"#36d7b7"}):"Login"})})]})},fe=()=>{let[s]=I();const t=s.get("createNew"),n=S(),[a,r]=d.useState({}),[u,i]=d.useState({name:"",email:"",password:"",profile_pic:null}),c=h=>{const{name:x,value:g,files:b}=h.target;i(j=>({...j,[x]:b?b[0]:g}))},{loading:p,error:m,fn:o,data:l}=$(re,u);d.useEffect(()=>{m===null&&l&&n(`/dashboard?${t?`createNew=${t}`:""}`)},[m,p]);const f=async()=>{r([]);try{await H().shape({name:y().required("Name is required"),email:y().email("Invalid email").required("Email is required"),password:y().min(6,"Password must be at least 6 characters").required("Password is required"),profile_pic:pe().required("Profile picture is required")}).validate(u,{abortEarly:!1}),await o()}catch(h){const x={};h!=null&&h.inner?(h.inner.forEach(g=>{x[g.path]=g.message}),r(x)):r({api:h.message})}};return e.jsxs(F,{children:[e.jsxs(k,{children:[e.jsx(D,{children:"Signup"}),e.jsx(M,{children:"Create a new account if you havenâ€™t already"}),m&&e.jsx(v,{message:m==null?void 0:m.message})]}),e.jsxs(V,{className:"space-y-2",children:[e.jsx("div",{className:"space-y-1",children:e.jsx(w,{name:"name",type:"text",placeholder:"Enter Name",onChange:c})}),a.name&&e.jsx(v,{message:a.name}),e.jsx("div",{className:"space-y-1",children:e.jsx(w,{name:"email",type:"email",placeholder:"Enter Email",onChange:c})}),a.email&&e.jsx(v,{message:a.email}),e.jsx("div",{className:"space-y-1",children:e.jsx(w,{name:"password",type:"password",placeholder:"Enter Password",onChange:c})}),a.password&&e.jsx(v,{message:a.password}),e.jsx("div",{className:"space-y-1",children:e.jsx("input",{name:"profile_pic",type:"file",accept:"image/*",onChange:c})}),a.profile_pic&&e.jsx(v,{message:a.profile_pic})]}),e.jsx(G,{children:e.jsx(A,{onClick:f,children:p?e.jsx(B,{size:10,color:"#36d7b7"}):"Create Account"})})]})};var _="Tabs",[he,Ce]=ie(_,[q]),K=q(),[xe,L]=he(_),z=d.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,onValueChange:r,defaultValue:u,orientation:i="horizontal",dir:c,activationMode:p="automatic",...m}=s,o=oe(c),[l,f]=ce({prop:a,onChange:r,defaultProp:u});return e.jsx(xe,{scope:n,baseId:le(),value:l,onValueChange:f,orientation:i,dir:o,activationMode:p,children:e.jsx(N.div,{dir:o,"data-orientation":i,...m,ref:t})})});z.displayName=_;var U="TabsList",J=d.forwardRef((s,t)=>{const{__scopeTabs:n,loop:a=!0,...r}=s,u=L(U,n),i=K(n);return e.jsx(de,{asChild:!0,...i,orientation:u.orientation,dir:u.dir,loop:a,children:e.jsx(N.div,{role:"tablist","aria-orientation":u.orientation,...r,ref:t})})});J.displayName=U;var O="TabsTrigger",Q=d.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,disabled:r=!1,...u}=s,i=L(O,n),c=K(n),p=Y(i.baseId,a),m=Z(i.baseId,a),o=a===i.value;return e.jsx(ue,{asChild:!0,...c,focusable:!r,active:o,children:e.jsx(N.button,{type:"button",role:"tab","aria-selected":o,"aria-controls":m,"data-state":o?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:p,...u,ref:t,onMouseDown:C(s.onMouseDown,l=>{!r&&l.button===0&&l.ctrlKey===!1?i.onValueChange(a):l.preventDefault()}),onKeyDown:C(s.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&i.onValueChange(a)}),onFocus:C(s.onFocus,()=>{const l=i.activationMode!=="manual";!o&&!r&&l&&i.onValueChange(a)})})})});Q.displayName=O;var W="TabsContent",X=d.forwardRef((s,t)=>{const{__scopeTabs:n,value:a,forceMount:r,children:u,...i}=s,c=L(W,n),p=Y(c.baseId,a),m=Z(c.baseId,a),o=a===c.value,l=d.useRef(o);return d.useEffect(()=>{const f=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(f)},[]),e.jsx(me,{present:r||o,children:({present:f})=>e.jsx(N.div,{"data-state":o?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":p,hidden:!f,id:m,tabIndex:0,...i,ref:t,style:{...s.style,animationDuration:l.current?"0s":void 0},children:f&&u})})});X.displayName=W;function Y(s,t){return`${s}-trigger-${t}`}function Z(s,t){return`${s}-content-${t}`}var ve=z,ee=J,ae=Q,se=X;const be=ve,te=d.forwardRef(({className:s,...t},n)=>e.jsx(ee,{ref:n,className:P("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));te.displayName=ee.displayName;const E=d.forwardRef(({className:s,...t},n)=>e.jsx(ae,{ref:n,className:P("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));E.displayName=ae.displayName;const T=d.forwardRef(({className:s,...t},n)=>e.jsx(se,{ref:n,className:P("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));T.displayName=se.displayName;function Ee(){let[s]=I();const t=S(),{isAuthenticated:n,loading:a}=R(),r=s.get("createNew");return d.useEffect(()=>{n&&!a&&t(`/dashboard?${r?`createNew=${r}`:""}`)},[n,a,t]),e.jsxs("div",{className:"mt-36 flex flex-col items-center gap-10",children:[e.jsx("h1",{className:"text-5xl font-extrabold",children:s.get("createNew")?"Hold up! Let's login first..":"Login / Signup"}),e.jsxs(be,{defaultValue:"login",className:"w-[400px]",children:[e.jsxs(te,{className:"grid w-full grid-cols-2",children:[e.jsx(E,{value:"login",children:"Login"}),e.jsx(E,{value:"signup",children:"Signup"})]}),e.jsx(T,{value:"login",children:e.jsx(ge,{})}),e.jsx(T,{value:"signup",children:e.jsx(fe,{})})]})]})}export{Ee as default};
